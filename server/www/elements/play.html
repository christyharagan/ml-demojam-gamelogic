<dom-module id="marklogic-play">
  <template>
    <uservices-method service-name="play" method-name="getPossibleAnswers" args="[]" result="{{answers}}"></uservices-method>
    <uservices-method service-name="play" method-name="getPremises" args="[]" result="{{premises}}"></uservices-method>
    <uservices-method service-name="play" method-name="submitAnswer" args="{{guess}}" result="{{isCorrect}}"></uservices-method>

    <paper-header-panel class="flex">
      <paper-toolbar>
        <div>Given these statements</div>
      </paper-toolbar>
    </paper-header-panel>

    <div class="flex">
      <template is="dom-repeat" items="{{formattedPremises}}">
        <paper-item>{{item}}</paper-item>
      </template>
    </div>

    <paper-dropdown-menu selected-item={{selectedAnswer}} label="Which of these follows?" class="flex">
      <paper-menu class="dropdown-content">
        <template is="dom-repeat" items="{{formattedAnswers}}">
          <paper-item id="{{item.id}}">{{item.title}}</paper-item>
        </template>
      </paper-menu>
    </paper-dropdown-menu>

    <paper-button disabled="{{hasAnswered}}" on-click="submit" raised>Submit</paper-button>

    <template is="dom-if" if="{{answeredCorrectly}}">
      Congratulations. You choose the correct answer.
    </template>
    <template is="dom-if" if="{{answeredIncorrectly}}">
      Bad luck. You choose the wrong answer.
    </template>
  </template>
</dom-module>

<script type="text/javascript" src="play.js"></script>
